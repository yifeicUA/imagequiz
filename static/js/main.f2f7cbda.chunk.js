(this.webpackJsonpimagequiz=this.webpackJsonpimagequiz||[]).push([[0],{55:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(20),s=c.n(r),o=(c(55),c(2)),i=c(3),l=c(6),j=c(73),u=c(8),d="https://yifeicua-imagequiz-backend.herokuapp.com",b={getFlowers:function(){return fetch("".concat(d,"/flowers")).then((function(e){var t=e.json();return console.log(t),t}))},getQuiz:function(e){return fetch("".concat(d,"/quiz/").concat(e)).then((function(e){return e.json()})).then((function(e){return e.map((function(e){return{picture:e.picture,choices:e.choices.split(","),answer:e.answer}}))}))},setUser:function(e,t,c){return fetch("".concat(d,"/register"),{method:"POST",body:JSON.stringify({name:e,email:t,password:c}),headers:{"Content-Type":"application/json"}})},getUser:function(e,t){return fetch("".concat(d,"/login"),{method:"POST",body:JSON.stringify({email:e,password:t}),headers:{"Content-Type":"application/json"}})},verifyTwitter:function(e){return fetch("".concat(d,"/twitter/verify/").concat(e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}}).then((function(e){return e.json()}))}},h=c(1),O=function(e){var t=Object(n.useState)([]),c=Object(l.a)(t,2),a=c[0],r=c[1];Object(n.useEffect)((function(){a.length>0||b.getFlowers().then((function(e){return r(e)})).catch((function(e){return console.log(e)}))}),[]);for(var s=Object(n.useState)(0),o=(s.index,s.setNumber,Object(u.g)()),i=function(t){t.preventDefault(),e.getIndex(t.target.name),o.push("/question")},d=[],O=0;O<a.length;O++)d.push(Object(h.jsxs)(j.a,{children:[Object(h.jsx)(j.a.Link,{href:"#question",value:a[O].name,onClick:i,children:Object(h.jsx)(j.a.Img,{variant:"top",src:a[O].picture,name:a[O].name,onClick:i})}),Object(h.jsx)(j.a.Body,{children:Object(h.jsx)(j.a.Title,{children:a[O].name})})]}));return d},x=(c(27),c(69)),m=c(65),f=c(66),g=c(72),p=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(),s=Object(l.a)(r,2),o=s[0],i=s[1],j=Object(n.useState)(),u=Object(l.a)(j,2),d=u[0],O=u[1],p=Object(n.useState)(),v=Object(l.a)(p,2),y=v[0],w=v[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(x.a,{onSubmit:function(e){e.preventDefault(),console.log(o),console.log(d),console.log(y),c=b.setUser(d,o,y).then((function(e){console.log(e),a("       Sign up successfully\uff01\uff01\uff01")}))},children:[Object(h.jsxs)(x.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(h.jsx)(x.a.Label,{children:"Email address"}),Object(h.jsx)(x.a.Control,{type:"email",placeholder:"Enter email",onChange:function(e){return i(e.target.value)},required:!0}),Object(h.jsx)(x.a.Text,{className:"text-muted",children:"please enter your email address"})]}),Object(h.jsxs)(x.a.Group,{className:"mb-3",controlId:"formBasicText",children:[Object(h.jsx)(x.a.Label,{children:"User name"}),Object(h.jsx)(x.a.Control,{type:"text",placeholder:"username",onChange:function(e){return O(e.target.value)},required:!0}),Object(h.jsx)(x.a.Text,{className:"text-muted",children:"please enter your username"})]}),Object(h.jsxs)(x.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(h.jsx)(x.a.Label,{children:"Password"}),Object(h.jsx)(x.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return w(e.target.value)},required:!0})]}),Object(h.jsx)(x.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(h.jsx)(x.a.Check,{type:"checkbox",label:"save account number"})}),Object(h.jsx)(m.a,{variant:"primary",type:"submit",children:"Sign up"})]}),Object(h.jsx)(f.a,{children:Object(h.jsxs)(g.a,{children:["Sign up with username(show in console): ",d,c]},"info")})]})},v=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(),s=Object(l.a)(r,2),o=s[0],i=s[1],j=Object(n.useState)(),u=Object(l.a)(j,2),d=u[0],O=u[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(x.a,{onSubmit:function(e){e.preventDefault(),console.log(o),console.log(d),b.getUser(o,d).then((function(e){return e.json()})).then((function(e){console.log(e),1==e.done?(localStorage.setItem("customer",o),a("       Login successfully\uff01\uff01\uff01(check console)")):a("       Login faild(check console)")}))},children:[Object(h.jsxs)(x.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(h.jsx)(x.a.Label,{children:"Email address"}),Object(h.jsx)(x.a.Control,{type:"email",placeholder:"Enter email",onChange:function(e){return i(e.target.value)},required:!0}),Object(h.jsx)(x.a.Text,{className:"text-muted",children:"please enter your email address"})]}),Object(h.jsxs)(x.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(h.jsx)(x.a.Label,{children:"Password"}),Object(h.jsx)(x.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return O(e.target.value)},required:!0})]}),Object(h.jsx)(x.a.Group,{className:"mb-3",controlId:"formBasicCheckbox",children:Object(h.jsx)(x.a.Check,{type:"checkbox",label:"save account number"})}),Object(h.jsx)(m.a,{variant:"primary",type:"submit",children:"Login"})]}),Object(h.jsx)(f.a,{children:Object(h.jsxs)(g.a,{children:["Login with Email(show in console): ",o,c]},"info")})]})},y=c(71),w=c(67),C=c(70),S=function(){return Object(h.jsx)(y.a,{variant:"pills",defaultActiveKey:"/",bg:"dark",children:Object(h.jsxs)(w.a,{children:[Object(h.jsx)(C.a.Item,{children:Object(h.jsx)(C.a.Link,{href:"#/",children:"Home"})}),Object(h.jsx)(y.a.Toggle,{}),Object(h.jsxs)(y.a.Collapse,{className:"justify-content-end",children:[Object(h.jsx)(C.a.Item,{children:Object(h.jsx)(C.a.Link,{href:"#login",children:"Login"})}),Object(h.jsx)(C.a.Item,{children:Object(h.jsx)(C.a.Link,{href:"https://yifeicua-imagequiz-backend.herokuapp.com/login/twitter",children:"Sign In with Twitter"})}),Object(h.jsx)(C.a.Item,{children:Object(h.jsx)(C.a.Link,{href:"#sign",children:"Signup"})})]})]})})},k=c(46),I=c(68),L=function(e){var t=Object(n.useState)([]),c=Object(l.a)(t,2),a=c[0],r=c[1];Object(n.useEffect)((function(){console.log(e.indexProp),b.getQuiz(e.indexProp).then((function(e){if(console.log(e),void 0!=e)return r(e);console.log("ceshicuowu")}))}),[]);for(var s=Object(n.useState)(0),o=(s.grade,s.setGrade,Object(u.g)(),function(t){t.target.id==t.target.value?e.getGrade(1):e.getGrade(0)}),i=[],j=0;j<a.length;j++)i.push(Object(h.jsx)("div",{children:Object(h.jsx)(w.a,{fluid:!0,children:Object(h.jsxs)(f.a,{className:"justify-content-center \r align-items-center",children:[Object(h.jsx)(k.a,{children:Object(h.jsx)(I.a,{src:a[j].picture,alt:a[j].answer})}),Object(h.jsx)(k.a,{children:Object(h.jsx)("fieldset",{children:Object(h.jsx)(x.a,{children:Object(h.jsxs)(x.a.Group,{as:f.a,className:"mb-3",children:[Object(h.jsx)(x.a.Label,{as:"legend",column:!0,sm:2}),Object(h.jsxs)(k.a,{sm:10,children:[Object(h.jsx)(x.a.Check,{label:a[j].choices[0],type:"radio",name:"group1",id:a[j].choices[0],value:a[j].answer,onClick:o}),Object(h.jsx)(x.a.Check,{label:a[j].choices[1],type:"radio",name:"group1",id:a[j].choices[1],value:a[j].answer,onClick:o}),Object(h.jsx)(x.a.Check,{label:a[j].choices[2],type:"radio",name:"group1",id:a[j].choices[2],value:a[j].answer,onClick:o}),Object(h.jsx)(x.a.Control.Feedback,{label:a[j].answer,children:"You did it!"})]})]})})})})]})})}));return i.push(Object(h.jsx)(f.a,{children:Object(h.jsxs)(g.a,{children:["Your grade is ",e.gradeProp]},"info")})),i.push(Object(h.jsxs)(f.a,{children:[Object(h.jsx)(m.a,{variant:"primary",size:"lg",children:"Reapet same quiz"})," ",Object(h.jsx)(m.a,{href:"#",variant:"secondary",size:"lg",children:"Go Back to do Others"})," "]})),i},T=c(50),N=["children"];var P=function(e){var t=e.children,c=Object(i.a)(e,N),n=localStorage.getItem("customer");return console.log("undefined"==n),Object(h.jsx)(u.b,Object(o.a)(Object(o.a)({},c),{},{render:function(e){var c=e.location;return"undefined"!=n?t:Object(h.jsx)(u.a,{to:{pathname:"/login",state:{from:c}}})}}))},q=function(e){var t=Object(u.h)(),c=t.username,a=t.name;Object(u.g)();return Object(n.useEffect)((function(){console.log("in Twitter ..."),b.verifyTwitter(c).then((function(t){console.log(t),t.done&&(localStorage.setItem("customer",a),e.onAuthenticated())}))})),Object(h.jsx)(O,{})},G=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(void 0),s=Object(l.a)(r,2),o=s[0],i=s[1],j=Object(n.useState)(0),d=Object(l.a)(j,2),b=d[0],x=d[1];return localStorage.setItem("customer",void 0),Object(h.jsx)(T.a,{children:Object(h.jsxs)(w.a,{children:[Object(h.jsx)(f.a,{children:Object(h.jsx)(k.a,{children:Object(h.jsx)(S,{customerAuthenticated:c})})}),Object(h.jsxs)(u.d,{children:[Object(h.jsx)(u.b,{exact:!0,path:"/twitter/:username/:name",children:Object(h.jsx)(q,{onAuthenticated:function(){a(!0)}})}),Object(h.jsx)(u.b,{path:"/sign",children:Object(h.jsx)(p,{})}),Object(h.jsx)(u.b,{path:"/login",children:Object(h.jsx)(v,{})}),Object(h.jsx)(P,{path:"/question",children:Object(h.jsx)(L,{indexProp:o,getGrade:function(e){x(b+e)},gradeProp:b})}),Object(h.jsx)(u.b,{path:"/",children:Object(h.jsx)(O,{getIndex:function(e){i(e)}})})]})]})})},E=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,74)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(G,{})}),document.getElementById("root")),E()}},[[63,1,2]]]);
//# sourceMappingURL=main.f2f7cbda.chunk.js.map